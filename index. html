<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VERITAS 2.0 | –°–æ—Ü–∏–∞–ª—å–Ω—ã–π —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --truth-green: #28a745;
            --lie-red: #dc3545;
            --neutral-yellow: #ffc107;
            --primary-blue: #0d6efd;
            --dark-bg: #1a1a2e;
            --card-bg: #16213e;
            --accent-purple: #6f42c1;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            color: #333;
        }
        
        .game-wrapper {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
        }
        
        .truth-badge {
            background: linear-gradient(135deg, var(--truth-green), #20c997);
            color: white;
            font-weight: bold;
            padding: 8px 16px;
            border-radius: 50px;
            display: inline-block;
        }
        
        .lie-badge {
            background: linear-gradient(135deg, var(--lie-red), #e83e8c);
            color: white;
            font-weight: bold;
            padding: 8px 16px;
            border-radius: 50px;
            display: inline-block;
        }
        
        .option-card {
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 3px solid transparent;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            background: white;
        }
        
        .option-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
        }
        
        .option-card.selected {
            border-color: var(--primary-blue);
            background: linear-gradient(135deg, #f8f9ff 0%, #e3f2fd 100%);
        }
        
        .progress-lg {
            height: 12px;
            border-radius: 6px;
        }
        
        .character-portrait {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--primary-blue);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .rating-badge {
            font-size: 1.2rem;
            padding: 10px 20px;
            border-radius: 10px;
            font-weight: bold;
        }
        
        .truth-0 { border-left: 5px solid #28a745; }
        .truth-1 { border-left: 5px solid #20c997; }
        .truth-2 { border-left: 5px solid #ffc107; }
        .truth-3 { border-left: 5px solid #fd7e14; }
        .truth-4 { border-left: 5px solid #dc3545; }
        .truth-5 { border-left: 5px solid #6c757d; }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }
        
        .nav-tabs .nav-link {
            border-radius: 10px 10px 0 0;
            font-weight: 600;
        }
        
        .nav-tabs .nav-link.active {
            background: linear-gradient(135deg, var(--primary-blue), #6610f2);
            color: white;
            border-color: var(--primary-blue);
        }
        
        .consequence-alert {
            border-radius: 15px;
            border: none;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .social-rating-card {
            background: linear-gradient(135deg, var(--dark-bg), var(--card-bg));
            color: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        
        .player-stats-card {
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
        }
        
        @media (max-width: 768px) {
            .game-wrapper {
                padding: 10px;
            }
            
            .glass-card {
                padding: 15px;
            }
            
            .character-portrait {
                width: 60px;
                height: 60px;
            }
        }
        
        .scenario-badge {
            background: linear-gradient(135deg, var(--accent-purple), #e83e8c);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
        }
        
        .consequence-tag {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            margin: 2px;
        }
        
        .positive-tag { background: rgba(40, 167, 69, 0.15); color: var(--truth-green); }
        .negative-tag { background: rgba(220, 53, 69, 0.15); color: var(--lie-red); }
        .neutral-tag { background: rgba(255, 193, 7, 0.15); color: #856404; }
        
        .tab-content {
            display: none;
        }
        
        #gameTab {
            display: block;
        }
    </style>
</head>
<body>
    <div class="game-wrapper">
        <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <div>
                <h1 class="text-white mb-0"><i class="fas fa-balance-scale"></i> VERITAS 2.0</h1>
                <small class="text-white-50">–°–æ—Ü–∏–∞–ª—å–Ω—ã–π —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –ø–æ –¥–æ–≤–µ—Ä–∏—é</small>
            </div>
            <div class="d-flex gap-3">
                <button class="btn btn-outline-light" onclick="showTab('game')">
                    <i class="fas fa-gamepad"></i> –ò–≥—Ä–∞
                </button>
                <button class="btn btn-outline-light" onclick="showTab('profile')">
                    <i class="fas fa-user"></i> –ü—Ä–æ—Ñ–∏–ª—å
                </button>
                <button class="btn btn-outline-light" onclick="showTab('rating')">
                    <i class="fas fa-chart-line"></i> –†–µ–π—Ç–∏–Ω–≥
                </button>
            </div>
        </div>
        
        <!-- –û—Å–Ω–æ–≤–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏ -->
        <div id="gameTab" class="tab-content">
            <!-- –í–µ—Ä—Ö–Ω—è—è —á–∞—Å—Ç—å —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º -->
            <div class="row mb-4">
                <div class="col-lg-8">
                    <div class="social-rating-card">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h4 class="mb-2"><i class="fas fa-globe-europe"></i> –°–û–¶–ò–ê–õ–¨–ù–´–ô –ò–ù–î–ï–ö–° –ü–†–ê–í–î–´</h4>
                                <div class="d-flex align-items-center gap-4">
                                    <div>
                                        <div class="h2 mb-0" id="globalIndex">74.3%</div>
                                        <small class="text-white-50">–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –æ–±—â–µ—Å—Ç–≤–∞</small>
                                    </div>
                                    <div>
                                        <div class="h2 mb-0 text-warning" id="playerRank">#842</div>
                                        <small class="text-white-50">–í–∞—à–∞ –ø–æ–∑–∏—Ü–∏—è</small>
                                    </div>
                                    <div>
                                        <div class="h2 mb-0" id="trustScore">86</div>
                                        <small class="text-white-50">–ò–Ω–¥–µ–∫—Å –¥–æ–≤–µ—Ä–∏—è</small>
                                    </div>
                                </div>
                            </div>
                            <div class="text-end">
                                <div class="p-3 bg-dark bg-opacity-50 rounded">
                                    <div class="small">–≠–ø–∏—Å—Ç–µ–º–∏—á–µ—Å–∫–∏–π –∫—Ä–∏–∑–∏—Å:</div>
                                    <div class="h4 text-danger">+2.4%</div>
                                </div>
                            </div>
                        </div>
                        <div class="progress progress-lg mt-3">
                            <div class="progress-bar bg-success" style="width: 45%"></div>
                            <div class="progress-bar bg-warning" style="width: 30%"></div>
                            <div class="progress-bar bg-danger" style="width: 25%"></div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="player-stats-card h-100">
                        <h5><i class="fas fa-chart-pie"></i> –í–∞—à–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h5>
                        <div class="row text-center mt-3">
                            <div class="col-6">
                                <div class="h4 text-success" id="playerTruth">68%</div>
                                <small class="text-muted">–ü—Ä–∞–≤–¥–∏–≤–æ—Å—Ç—å</small>
                            </div>
                            <div class="col-6">
                                <div class="h4 text-primary" id="playerGames">12</div>
                                <small class="text-muted">–°—ã–≥—Ä–∞–Ω–æ –∏–≥—Ä</small>
                            </div>
                        </div>
                        <div class="mt-3">
                            <div class="small text-muted">–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–ª–∏—è–Ω–∏—è:</div>
                            <div class="h3" id="influenceCoef" style="color: var(--accent-purple);">1.42</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- –ò–≥—Ä–æ–≤–∞—è –æ–±–ª–∞—Å—Ç—å -->
            <div class="glass-card p-4 mb-4">
                <div id="gameContent">
                    <!-- –ò–≥—Ä–æ–≤–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </div>
        
        <!-- –í–∫–ª–∞–¥–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è -->
        <div id="profileTab" class="tab-content">
            <div class="glass-card p-4">
                <h3 class="mb-4"><i class="fas fa-id-card"></i> –ü–†–û–§–ò–õ–¨ –ò–ì–†–û–ö–ê</h3>
                
                <div class="row">
                    <div class="col-md-4">
                        <div class="text-center mb-4">
                            <div class="character-portrait mx-auto bg-primary d-flex align-items-center justify-content-center text-white mb-3">
                                <i class="fas fa-user fa-2x"></i>
                            </div>
                            <h4 id="playerName">–ò–≥—Ä–æ–∫</h4>
                            <div class="scenario-badge d-inline-block mb-3">–≠–∫—Å–ø–µ—Ä—Ç —É—Ä–æ–≤–Ω—è 5</div>
                            <div class="rating-badge bg-success text-white">–†–µ–π—Ç–∏–Ω–≥: 8.6/10</div>
                        </div>
                        
                        <div class="player-stats-card">
                            <h6>–ö–ª—é—á–µ–≤—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã:</h6>
                            <div class="mt-3">
                                <div class="d-flex justify-content-between mb-2">
                                    <span>–≠–ø–∏—Å—Ç–µ–º–∏—á–µ—Å–∫–∞—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å</span>
                                    <span class="fw-bold" id="coefStability">0.78</span>
                                </div>
                                <div class="d-flex justify-content-between mb-2">
                                    <span>–°–æ—Ü–∏–∞–ª—å–Ω–∞—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</span>
                                    <span class="fw-bold" id="coefSocial">0.65</span>
                                </div>
                                <div class="d-flex justify-content-between mb-2">
                                    <span>–≠—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å</span>
                                    <span class="fw-bold" id="coefEthics">0.82</span>
                                </div>
                                <div class="d-flex justify-content-between mb-2">
                                    <span>–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∞—è –≥–∏–±–∫–æ—Å—Ç—å</span>
                                    <span class="fw-bold" id="coefStrategy">0.71</span>
                                </div>
                                <div class="d-flex justify-content-between">
                                    <span>–î–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª</span>
                                    <span class="fw-bold" id="coefTrust">0.89</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-8">
                        <div class="mb-4">
                            <h5><i class="fas fa-history"></i> –ò—Å—Ç–æ—Ä–∏—è —Ä–µ—à–µ–Ω–∏–π</h5>
                            <div id="decisionHistory" class="mt-3">
                                <!-- –ò—Å—Ç–æ—Ä–∏—è –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="player-stats-card h-100">
                                    <h6><i class="fas fa-trophy"></i> –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h6>
                                    <div class="mt-3">
                                        <div class="d-flex align-items-center mb-2">
                                            <i class="fas fa-medal text-warning me-2"></i>
                                            <div>
                                                <div class="small">–ú–∞—Å—Ç–µ—Ä –ø—Ä–∞–≤–¥—ã</div>
                                                <small class="text-muted">10+ –ø—Ä–∞–≤–¥–∏–≤—ã—Ö —Ä–µ—à–µ–Ω–∏–π –ø–æ–¥—Ä—è–¥</small>
                                            </div>
                                        </div>
                                        <div class="d-flex align-items-center mb-2">
                                            <i class="fas fa-shield-alt text-success me-2"></i>
                                            <div>
                                                <div class="small">–ù–µ–ø–æ–¥–∫—É–ø–Ω—ã–π</div>
                                                <small class="text-muted">–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –∫–æ–Ω—Å–ø–∏—Ä–æ–ª–æ–≥–∏—é</small>
                                            </div>
                                        </div>
                                        <div class="d-flex align-items-center">
                                            <i class="fas fa-brain text-primary me-2"></i>
                                            <div>
                                                <div class="small">–¢–∞–∫—Ç–∏–∫</div>
                                                <small class="text-muted">–ë–∞–ª–∞–Ω—Å –ø—Ä–∞–≤–¥—ã –∏ –¥–∏–ø–ª–æ–º–∞—Ç–∏–∏</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="player-stats-card h-100">
                                    <h6><i class="fas fa-chart-bar"></i> –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Å—Ç–∏–ª—è</h6>
                                    <canvas id="styleChart" height="150"></canvas>
                                    <div class="text-center mt-2">
                                        <small class="text-muted" id="playStyle">–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–∞–≥–º–∞—Ç–∏–∫</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- –í–∫–ª–∞–¥–∫–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞ -->
        <div id="ratingTab" class="tab-content">
            <div class="glass-card p-4">
                <h3 class="mb-4"><i class="fas fa-crown"></i> –¢–û–ü-100 –ò–ì–†–û–ö–û–í</h3>
                
                <div class="row mb-4">
                    <div class="col-md-4">
                        <div class="social-rating-card text-center">
                            <div class="display-4 mb-2">üèÜ</div>
                            <h5>–õ—É—á—à–∏–π –∏–≥—Ä–æ–∫ –º–µ—Å—è—Ü–∞</h5>
                            <h4 class="text-warning" id="topPlayer">–ê–ª–µ–∫—Å–µ–π –ò.</h4>
                            <div class="h2">9.8/10</div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="social-rating-card text-center">
                            <div class="display-4 mb-2">üìä</div>
                            <h5>–°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥</h5>
                            <h4 class="text-info">7.2/10</h4>
                            <div class="small">–ù–∞ –æ—Å–Ω–æ–≤–µ 15,842 –∏–≥—Ä</div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="social-rating-card text-center">
                            <div class="display-4 mb-2">‚öñÔ∏è</div>
                            <h5>–ë–∞–ª–∞–Ω—Å –ø—Ä–∞–≤–¥—ã</h5>
                            <h4 class="text-success">64%</h4>
                            <div class="small">–í —Å—Ä–µ–¥–Ω–µ–º –ø–æ —Å–æ–æ–±—â–µ—Å—Ç–≤—É</div>
                        </div>
                    </div>
                </div>
                
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead class="table-dark">
                            <tr>
                                <th>#</th>
                                <th>–ò–≥—Ä–æ–∫</th>
                                <th>–†–µ–π—Ç–∏–Ω–≥</th>
                                <th>–ü—Ä–∞–≤–¥–∏–≤–æ—Å—Ç—å</th>
                                <th>–ò–≥—Ä</th>
                                <th>–°—Ç–∏–ª—å</th>
                            </tr>
                        </thead>
                        <tbody id="ratingTable">
                            <!-- –†–µ–π—Ç–∏–Ω–≥ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
    <div class="modal fade" id="resultsModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–Ω—è</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="resultsContent"></div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <script>
        // ==================== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï ====================
        const REAL_CHARACTERS = {
            politics: [
                {
                    name: "–ü—Ä–µ–¥—Å–µ–¥–∞—Ç–µ–ª—å –∫–æ–º–∏—Ç–µ—Ç–∞",
                    role: "–û–ø—ã—Ç–Ω—ã–π –ø–æ–ª–∏—Ç–∏–∫",
                    img: "üë®‚Äç‚öñÔ∏è",
                    traits: ["–ü—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω—ã–π", "–î–∏–ø–ª–æ–º–∞—Ç–∏—á–Ω—ã–π", "–¶–µ–ª–µ—É—Å—Ç—Ä–µ–º–ª–µ–Ω–Ω—ã–π"],
                    bias: 0.8,
                    secret: "–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–¥ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å–Ω—ã–º–∏ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤–∞–º–∏",
                    quote: "–í–∞–∂–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –±–∞–ª–∞–Ω—Å"
                },
                {
                    name: "–ü—Ä–µ—Å—Å-—Å–µ–∫—Ä–µ—Ç–∞—Ä—å",
                    role: "–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç",
                    img: "üéôÔ∏è",
                    traits: ["–î–∏–ø–ª–æ–º–∞—Ç–∏—á–Ω—ã–π", "–û—Å—Ç–æ—Ä–æ–∂–Ω—ã–π", "–õ–æ—è–ª—å–Ω—ã–π"],
                    bias: 0.3,
                    secret: "–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –ø—É–±–ª–∏—á–Ω—ã—Ö –∑–∞—è–≤–ª–µ–Ω–∏—è—Ö",
                    quote: "–°–ª–æ–≤–∞ –∏–º–µ—é—Ç –∑–Ω–∞—á–µ–Ω–∏–µ"
                },
                {
                    name: "–õ–∏–¥–µ—Ä –ø–∞—Ä—Ç–∏–∏",
                    role: "–ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –ª–∏–¥–µ—Ä",
                    img: "üé©",
                    traits: ["–≠–Ω–µ—Ä–≥–∏—á–Ω—ã–π", "–£–±–µ–¥–∏—Ç–µ–ª—å–Ω—ã–π", "–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–π"],
                    bias: 0.4,
                    secret: "–§–æ—Ä–º–∏—Ä—É–µ—Ç –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É",
                    quote: "–í–∞–∂–Ω–æ —Å–ª—É—à–∞—Ç—å –ª—é–¥–µ–π"
                }
            ],
            media: [
                {
                    name: "–ì–ª–∞–≤–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä",
                    role: "–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –∏–∑–¥–∞–Ω–∏—è",
                    img: "üé§",
                    traits: ["–ü—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω—ã–π", "–û–ø—ã—Ç–Ω—ã–π", "–†–µ–¥–∞–∫—Ü–∏–æ–Ω–Ω—ã–π"],
                    bias: 0.7,
                    secret: "–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ä–µ–¥–∞–∫—Ü–∏–æ–Ω–Ω—É—é –ø–æ–ª–∏—Ç–∏–∫—É",
                    quote: "–§–∞–∫—Ç—ã –ø—Ä–µ–≤—ã—à–µ –≤—Å–µ–≥–æ"
                },
                {
                    name: "–í–µ–¥—É—â–∏–π –∞–Ω–∞–ª–∏—Ç–∏–∫",
                    role: "–ú–µ–¥–∏–∞-–∞–Ω–∞–ª–∏—Ç–∏–∫",
                    img: "üì∫",
                    traits: ["–ê–Ω–∞–ª–∏—Ç–∏—á–Ω—ã–π", "–í–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–π", "–û–±—ä–µ–∫—Ç–∏–≤–Ω—ã–π"],
                    bias: 0.2,
                    secret: "–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Ä–∞–∑–±–æ—Ä–µ –Ω–æ–≤–æ—Å—Ç–µ–π",
                    quote: "–ö–æ–Ω—Ç–µ–∫—Å—Ç –≤–∞–∂–µ–Ω"
                },
                {
                    name: "–ö–æ–ª—É–º–Ω–∏—Å—Ç",
                    role: "–û–±–æ–∑—Ä–µ–≤–∞—Ç–µ–ª—å",
                    img: "üíÅ‚Äç‚ôÄÔ∏è",
                    traits: ["–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å–Ω—ã–π", "–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π", "–°—Ç–∏–ª–∏—Å—Ç–∏—á–µ—Å–∫–∏–π"],
                    bias: 0.6,
                    secret: "–ü–∏—à–µ—Ç –∞–≤—Ç–æ—Ä—Å–∫–∏–µ –∫–æ–ª–æ–Ω–∫–∏",
                    quote: "–í–∞–∂–µ–Ω –≤–∑–≥–ª—è–¥ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã"
                }
            ],
            journalism: [
                {
                    name: "–†–∞—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å",
                    role: "–ñ—É—Ä–Ω–∞–ª–∏—Å—Ç-–∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å",
                    img: "üìö",
                    traits: ["–°–∫—Ä—É–ø—É–ª—ë–∑–Ω—ã–π", "–ù–∞—Å—Ç–æ–π—á–∏–≤—ã–π", "–î–µ—Ç–∞–ª—å–Ω—ã–π"],
                    bias: 0.9,
                    secret: "–ü—Ä–æ–≤–æ–¥–∏—Ç –∂—É—Ä–Ω–∞–ª–∏—Å—Ç—Å–∫–∏–µ —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è",
                    quote: "–ò—Å—Ç–∏–Ω–∞ –≤ –¥–µ—Ç–∞–ª—è—Ö"
                },
                {
                    name: "–ö–æ—Ä—Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç",
                    role: "–ù–æ–≤–æ—Å—Ç–Ω–æ–π –∂—É—Ä–Ω–∞–ª–∏—Å—Ç",
                    img: "üì∞",
                    traits: ["–û–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π", "–¢–æ—á–Ω—ã–π", "–ú–æ–±–∏–ª—å–Ω—ã–π"],
                    bias: 0.4,
                    secret: "–†–∞–±–æ—Ç–∞–µ—Ç –≤ –≥–æ—Ä—è—á–∏—Ö —Ç–æ—á–∫–∞—Ö",
                    quote: "–ù–æ–≤–æ—Å—Ç–∏ –Ω–µ –∂–¥—É—Ç"
                },
                {
                    name: "–ö—Ä–∏—Ç–∏–∫",
                    role: "–ê–Ω–∞–ª–∏—Ç–∏–∫ –∏ –æ–±–æ–∑—Ä–µ–≤–∞—Ç–µ–ª—å",
                    img: "üé¨",
                    traits: ["–ü—Ä–æ–Ω–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π", "–ê–Ω–∞–ª–∏—Ç–∏—á–Ω—ã–π", "–û—Å—Ç—Ä–æ—É–º–Ω—ã–π"],
                    bias: 0.8,
                    secret: "–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –∫—Ä–∏—Ç–∏–∫–µ",
                    quote: "–í–∞–∂–µ–Ω –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –≤–∑–≥–ª—è–¥"
                }
            ],
            activism: [
                {
                    name: "–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä",
                    role: "–û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –ø—Ä–æ–µ–∫—Ç–æ–≤",
                    img: "‚öñÔ∏è",
                    traits: ["–û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω—ã–π", "–ü—Ä–µ–¥–∞–Ω–Ω—ã–π", "–¢–∞–∫—Ç–∏—á–Ω—ã–π"],
                    bias: 0.85,
                    secret: "–ö–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—ã",
                    quote: "–í–∞–∂–µ–Ω —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø–æ–¥—Ö–æ–¥"
                },
                {
                    name: "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä",
                    role: "IT-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç",
                    img: "üíª",
                    traits: ["–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π", "–ò–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã–π", "–ü—Ä–∞–≥–º–∞—Ç–∏—á–Ω—ã–π"],
                    bias: 0.5,
                    secret: "–†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ü–∏—Ñ—Ä–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è",
                    quote: "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –º–µ–Ω—è—é—Ç –º–∏—Ä"
                },
                {
                    name: "–û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä",
                    role: "–ö–æ–º—å—é–Ω–∏—Ç–∏-–º–µ–Ω–µ–¥–∂–µ—Ä",
                    img: "üó≥Ô∏è",
                    traits: ["–ö–æ–º–º—É–Ω–∏–∫–∞–±–µ–ª—å–Ω—ã–π", "–≠–Ω–µ—Ä–≥–∏—á–Ω—ã–π", "–û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä"],
                    bias: 0.9,
                    secret: "–†–∞–±–æ—Ç–∞–µ—Ç —Å —Å–æ–æ–±—â–µ—Å—Ç–≤–∞–º–∏",
                    quote: "–í–º–µ—Å—Ç–µ –º—ã —Å–∏–ª–∞"
                }
            ],
            culture: [
                {
                    name: "–ö—É–ª—å—Ç—É—Ä–æ–ª–æ–≥",
                    role: "–≠–∫—Å–ø–µ—Ä—Ç –ø–æ –∫—É–ª—å—Ç—É—Ä–µ",
                    img: "üé•",
                    traits: ["–≠—Ä—É–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π", "–ê–Ω–∞–ª–∏—Ç–∏—á–Ω—ã–π", "–®–∏—Ä–æ–∫–∏–π –≤–∑–≥–ª—è–¥"],
                    bias: 0.75,
                    secret: "–ò–∑—É—á–∞–µ—Ç –∫—É–ª—å—Ç—É—Ä–Ω—ã–µ —è–≤–ª–µ–Ω–∏—è",
                    quote: "–ö—É–ª—å—Ç—É—Ä–∞ - –∑–µ—Ä–∫–∞–ª–æ –æ–±—â–µ—Å—Ç–≤–∞"
                },
                {
                    name: "–ü—Ä–æ–¥—é—Å–µ—Ä",
                    role: "–ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π –ø—Ä–æ–¥—é—Å–µ—Ä",
                    img: "üíÉ",
                    traits: ["–ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π", "–û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—Å–∫–∏–π", "–í–∏–¥—è—â–∏–π"],
                    bias: 0.6,
                    secret: "–°–æ–∑–¥–∞–µ—Ç –∫—É–ª—å—Ç—É—Ä–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã",
                    quote: "–í–∞–∂–µ–Ω —Ç–≤–æ—Ä—á–µ—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å"
                },
                {
                    name: "–ê—Ä—Ç-–¥–∏—Ä–µ–∫—Ç–æ—Ä",
                    role: "–¢–≤–æ—Ä—á–µ—Å–∫–∏–π —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å",
                    img: "üé§",
                    traits: ["–ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π", "–í–∏–¥—è—â–∏–π", "–•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π"],
                    bias: 0.5,
                    secret: "–†—É–∫–æ–≤–æ–¥–∏—Ç —Ç–≤–æ—Ä—á–µ—Å–∫–∏–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏",
                    quote: "–ò—Å–∫—É—Å—Å—Ç–≤–æ –≥–æ–≤–æ—Ä–∏—Ç —Å–∞–º–æ –∑–∞ —Å–µ–±—è"
                }
            ],
            academia: [
                {
                    name: "–ü—Ä–æ—Ñ–µ—Å—Å–æ—Ä",
                    role: "–£—á–µ–Ω—ã–π –∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å",
                    img: "üéì",
                    traits: ["–£—á–µ–Ω—ã–π", "–ú–µ—Ç–æ–¥–∏—á–Ω—ã–π", "–ì–ª—É–±–æ–∫–∏–π"],
                    bias: 0.8,
                    secret: "–ü—Ä–æ–≤–æ–¥–∏—Ç –Ω–∞—É—á–Ω—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è",
                    quote: "–ó–Ω–∞–Ω–∏—è —Ç—Ä–µ–±—É—é—Ç –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤"
                },
                {
                    name: "–î–µ–∫–∞–Ω",
                    role: "–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å —Ñ–∞–∫—É–ª—å—Ç–µ—Ç–∞",
                    img: "üë©‚Äçüíº",
                    traits: ["–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π", "–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–π", "–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π"],
                    bias: 0.45,
                    secret: "–£–ø—Ä–∞–≤–ª—è–µ—Ç —É—á–µ–±–Ω—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º",
                    quote: "–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ - –æ—Å–Ω–æ–≤–∞"
                },
                {
                    name: "–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å",
                    role: "–ù–∞—É—á–Ω—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫",
                    img: "üß†",
                    traits: ["–õ—é–±–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã–π", "–ê–Ω–∞–ª–∏—Ç–∏—á–Ω—ã–π", "–°–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω–Ω—ã–π"],
                    bias: 0.3,
                    secret: "–ü—Ä–æ–≤–æ–¥–∏—Ç –ø–æ–ª–µ–≤—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è",
                    quote: "–ù–∞—É–∫–∞ - —ç—Ç–æ –ø–æ–∏—Å–∫ –∏—Å—Ç–∏–Ω—ã"
                }
            ]
        };

        const SCENARIOS = {
            politics: {
                name: "‚öñÔ∏è –ü–û–õ–ò–¢–ò–ö–ê",
                color: "#dc3545",
                dilemmas: [
                    {
                        title: "–≠—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –≤ –ø–æ–ª–∏—Ç–∏–∫–µ",
                        text: "–ù–∞ –≤–∞—Å –æ–∫–∞–∑—ã–≤–∞—é—Ç –¥–∞–≤–ª–µ–Ω–∏–µ —Å —Ü–µ–ª—å—é –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å —Å–ø–æ—Ä–Ω—ã–π –∑–∞–∫–æ–Ω–æ–ø—Ä–æ–µ–∫—Ç. –ù—É–∂–Ω–æ –ø—Ä–∏–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ–º.",
                        stakes: ["–ü—Ä–∏–Ω—Ü–∏–ø—ã", "–ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –∫–∞–ø–∏—Ç–∞–ª", "–û–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –º–Ω–µ–Ω–∏–µ"]
                    },
                    {
                        title: "–ö–æ–Ω—Ñ–ª–∏–∫—Ç –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤",
                        text: "–û–±–Ω–∞—Ä—É–∂–µ–Ω –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤ —É –∫–æ–ª–ª–µ–≥–∏. –ö–∞–∫ –ø–æ—Å—Ç—É–ø–∏—Ç—å - –ø–æ–¥–Ω—è—Ç—å –≤–æ–ø—Ä–æ—Å –∏–ª–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –º–æ–ª—á–∞–Ω–∏–µ?",
                        stakes: ["–ö–æ–ª–ª–µ–≥–∏–∞–ª—å–Ω–æ—Å—Ç—å", "–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å", "–†–µ–ø—É—Ç–∞—Ü–∏—è"]
                    },
                    {
                        title: "–°–ª–æ–∂–Ω—ã–µ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä—ã",
                        text: "–ù–∞ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∞—Ö –ø–∞—Ä—Ç–Ω–µ—Ä –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å–¥–µ–ª–∫—É, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–µ—Å–µ—Ç –≤—ã–≥–æ–¥—É, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–∞ —Å –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏.",
                        stakes: ["–≠—Ç–∏–∫–∞", "–í—ã–≥–æ–¥–∞", "–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è"]
                    }
                ]
            },
            media: {
                name: "üì∞ –ú–ï–î–ò–ê",
                color: "#0d6efd",
                dilemmas: [
                    {
                        title: "–°–ª–æ–∂–Ω—ã–π —Ä–µ–¥–∞–∫—Ü–∏–æ–Ω–Ω—ã–π –≤—ã–±–æ—Ä",
                        text: "–ü–æ–ª—É—á–µ–Ω–∞ —Å–µ–Ω—Å–∞—Ü–∏–æ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Ç –Ω–µ–Ω–∞–¥–µ–∂–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞. –ü—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å –æ–≥–æ–≤–æ—Ä–∫–∞–º–∏ –∏–ª–∏ –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è?",
                        stakes: ["–î–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç—å", "–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω–æ—Å—Ç—å", "–†–µ–ø—É—Ç–∞—Ü–∏—è –°–ú–ò"]
                    },
                    {
                        title: "–ë–∞–ª–∞–Ω—Å –æ–±—ä–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏",
                        text: "–¢—Ä–µ–±—É–µ—Ç—Å—è –æ—Å–≤–µ—Ç–∏—Ç—å —Å–ø–æ—Ä–Ω—É—é —Ç–µ–º—É. –ö–∞–∫ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç–æ—á–∫–∞–º–∏ –∑—Ä–µ–Ω–∏—è?",
                        stakes: ["–û–±—ä–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å", "–í–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å", "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∏–∑–º"]
                    },
                    {
                        title: "–†–∞–±–æ—Ç–∞ —Å –æ—à–∏–±–∫–æ–π",
                        text: "–í –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω–æ–º –º–∞—Ç–µ—Ä–∏–∞–ª–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç—å. –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Å–∏—Ç—É–∞—Ü–∏—é —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –ø–æ—Ç–µ—Ä—è–º–∏?",
                        stakes: ["–ß–µ—Å—Ç–Ω–æ—Å—Ç—å", "–î–æ–≤–µ—Ä–∏–µ —á–∏—Ç–∞—Ç–µ–ª–µ–π", "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ä–µ–ø—É—Ç–∞—Ü–∏—è"]
                    }
                ]
            },
            activism: {
                name: "‚úä –ê–ö–¢–ò–í–ò–ó–ú",
                color: "#20c997",
                dilemmas: [
                    {
                        title: "–¢–∞–∫—Ç–∏–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–µ–π",
                        text: "–î–ª—è –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è –≤–∞–∂–Ω–æ–π –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—ã —Ç—Ä–µ–±—É—é—Ç—Å—è —Ä–∞–¥–∏–∫–∞–ª—å–Ω—ã–µ –º–µ—Ä—ã. –ö–∞–∫ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –Ω–µ –ø–µ—Ä–µ—Ö–æ–¥—è –≥—Ä–∞–Ω–∏—Ü?",
                        stakes: ["–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å", "–ó–∞–∫–æ–Ω–Ω–æ—Å—Ç—å", "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±—â–µ—Å—Ç–≤–∞"]
                    },
                    {
                        title: "–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∫–æ–Ω—Ñ–ª–∏–∫—Ç",
                        text: "–í –¥–≤–∏–∂–µ–Ω–∏–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ —Ä–∞–∑–Ω–æ–≥–ª–∞—Å–∏—è –ø–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏. –ö–∞–∫ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –µ–¥–∏–Ω—Å—Ç–≤–æ –ø—Ä–∏ —Ä–∞–∑–Ω—ã—Ö –≤–∑–≥–ª—è–¥–∞—Ö?",
                        stakes: ["–ï–¥–∏–Ω—Å—Ç–≤–æ", "–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å", "–ü—Ä–∏–Ω—Ü–∏–ø—ã"]
                    },
                    {
                        title: "–í–Ω–µ—à–Ω–µ–µ –¥–∞–≤–ª–µ–Ω–∏–µ",
                        text: "–ù–∞ –¥–≤–∏–∂–µ–Ω–∏–µ –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–∞–≤–ª–µ–Ω–∏–µ —Å —Ü–µ–ª—å—é –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏. –ö–∞–∫ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å?",
                        stakes: ["–ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å", "–í—ã–∂–∏–≤–∞–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è", "–¶–µ–ª–∏"]
                    }
                ]
            },
            culture: {
                name: "üé≠ –ö–£–õ–¨–¢–£–†–ê",
                color: "#6f42c1",
                dilemmas: [
                    {
                        title: "–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ –∏ –∫–æ–º–º–µ—Ä—Ü–∏—è",
                        text: "–î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–ø–æ–Ω—Å–æ—Ä—Å—Ç–≤–æ –∫–æ–º–ø–∞–Ω–∏–∏ —Å–æ —Å–ø–æ—Ä–Ω–æ–π —Ä–µ–ø—É—Ç–∞—Ü–∏–µ–π. –ö–∞–∫ –ø–æ—Å—Ç—É–ø–∏—Ç—å?",
                        stakes: ["–¢–≤–æ—Ä—á–µ—Å–∫–∞—è —Å–≤–æ–±–æ–¥–∞", "–§–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ", "–†–µ–ø—É—Ç–∞—Ü–∏—è"]
                    },
                    {
                        title: "–ö—É–ª—å—Ç—É—Ä–Ω—ã–π –¥–∏–∞–ª–æ–≥",
                        text: "–ü—Ä–æ–µ–∫—Ç –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ–º—ã. –ö–∞–∫ –≤–µ—Å—Ç–∏ –¥–∏–∞–ª–æ–≥, –Ω–µ –≤—ã–∑—ã–≤–∞—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤?",
                        stakes: ["–í—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å", "–¢–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å", "–î–∏–∞–ª–æ–≥"]
                    },
                    {
                        title: "–ù–∞—Å–ª–µ–¥–∏–µ –∏ –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏",
                        text: "–ö–∞–∫ —Å–æ–≤–º–µ—Å—Ç–∏—Ç—å —É–≤–∞–∂–µ–Ω–∏–µ –∫ —Ç—Ä–∞–¥–∏—Ü–∏—è–º —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –ø–æ–¥—Ö–æ–¥–∞–º–∏ –≤ –∫—É–ª—å—Ç—É—Ä–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ?",
                        stakes: ["–¢—Ä–∞–¥–∏—Ü–∏–∏", "–ò–Ω–Ω–æ–≤–∞—Ü–∏–∏", "–ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å"]
                    }
                ]
            }
        };

        const TRUTH_LEVELS = [
            { name: "–ü–æ–ª–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å", icon: "‚úÖ", desc: "–†–∞—Å–∫—Ä—ã—Ç–∏–µ –≤—Å–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏", integrity: 3, risk: 2 },
            { name: "–ò–∑–±–∏—Ä–∞—Ç–µ–ª—å–Ω–∞—è –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç—å", icon: "ü§ù", desc: "–ß–∞—Å—Ç–∏—á–Ω–æ–µ —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ —Å —É—á–µ—Ç–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞", integrity: 2, risk: 1 },
            { name: "–¢–∞–∫—Ç–∏—á–Ω–æ–µ —É–º–æ–ª—á–∞–Ω–∏–µ", icon: "üéØ", desc: "–§–æ–∫—É—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞ –∫–ª—é—á–µ–≤—ã—Ö –∞—Å–ø–µ–∫—Ç–∞—Ö", integrity: 0, risk: 3 },
            { name: "–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–µ —Å–æ–∫—Ä—ã—Ç–∏–µ", icon: "üé≠", desc: "–°–æ–∫—Ä—ã—Ç–∏–µ —á–∞—Å—Ç–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è —Ü–µ–ª–∏", integrity: -2, risk: 4 },
            { name: "–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ –∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ", icon: "üî•", desc: "–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –Ω—É–∂–Ω–æ–º —Å–≤–µ—Ç–µ", integrity: -3, risk: 5 },
            { name: "–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ –ø—Ä–æ—á—Ç–µ–Ω–∏–µ", icon: "üïµÔ∏è", desc: "–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–æ–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ —Ñ–∞–∫—Ç–æ–≤", integrity: -4, risk: 6 }
        ];

        // ==================== –ö–õ–ê–°–° –ò–ì–†–û–ö–ê ====================
        class Player {
            constructor() {
                this.name = "–ò–≥—Ä–æ–∫";
                this.totalGames = 0;
                this.totalTruth = 0;
                this.totalLies = 0;
                this.history = [];
                this.stats = {
                    politics: { truth: 0, lies: 0, score: 0 },
                    media: { truth: 0, lies: 0, score: 0 },
                    activism: { truth: 0, lies: 0, score: 0 },
                    culture: { truth: 0, lies: 0, score: 0 }
                };
                this.coefficients = {
                    stability: 0.5,
                    social: 0.5,
                    ethics: 0.5,
                    strategy: 0.5,
                    trust: 0.5
                };
                this.currentGame = null;
            }
            
            startNewGame(scenario) {
                this.currentGame = {
                    scenario: scenario,
                    day: 1,
                    trust: 100,
                    integrity: 0,
                    reputation: 50,
                    decisions: [],
                    characters: [],
                    currentCharacter: null
                };
                
                // –í—ã–±–æ—Ä —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –¥–ª—è —Å—Ü–µ–Ω–∞—Ä–∏—è
                const chars = REAL_CHARACTERS[scenario] || REAL_CHARACTERS.politics;
                this.currentGame.currentCharacter = this.getRandomCharacter(chars);
                
                return this.currentGame;
            }
            
            getRandomCharacter(characters) {
                return characters[Math.floor(Math.random() * characters.length)];
            }
            
            makeDecision(choice, consequences) {
                if (!this.currentGame) return;
                
                this.currentGame.decisions.push({
                    day: this.currentGame.day,
                    choice: choice,
                    consequences: consequences,
                    character: this.currentGame.currentCharacter
                });
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
                this.totalGames++;
                if (choice.integrity > 0) {
                    this.totalTruth++;
                    this.stats[this.currentGame.scenario].truth++;
                } else if (choice.integrity < 0) {
                    this.totalLies++;
                    this.stats[this.currentGame.scenario].lies++;
                }
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤
                this.updateCoefficients(choice, consequences);
                
                this.currentGame.day++;
                
                // –°–º–µ–Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –∫–∞–∂–¥—ã–µ 2 –¥–Ω—è
                if (this.currentGame.day % 2 === 0) {
                    const chars = REAL_CHARACTERS[this.currentGame.scenario] || REAL_CHARACTERS.politics;
                    this.currentGame.currentCharacter = this.getRandomCharacter(chars);
                }
                
                return this.currentGame;
            }
            
            updateCoefficients(choice, consequences) {
                // –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–µ—à–µ–Ω–∏–π)
                const lastDecisions = this.history.slice(-3);
                if (lastDecisions.length >= 2) {
                    const consistency = lastDecisions.filter(d => 
                        Math.abs(d.choice.integrity - choice.integrity) < 1.5
                    ).length / lastDecisions.length;
                    this.coefficients.stability = (this.coefficients.stability * 0.7 + consistency * 0.3);
                }
                
                // –°–æ—Ü–∏–∞–ª—å–Ω–∞—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (—Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –¥–æ–≤–µ—Ä–∏–µ)
                this.coefficients.social = (this.coefficients.social * 0.8 + 
                    Math.min(1, (consequences.trustChange + 20) / 40) * 0.2);
                
                // –≠—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
                this.coefficients.ethics = (this.coefficients.ethics * 0.9 + 
                    (choice.integrity > 0 ? 0.1 : choice.integrity < -2 ? -0.05 : 0) * 0.1);
                
                // –°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∞—è –≥–∏–±–∫–æ—Å—Ç—å (–±–∞–ª–∞–Ω—Å —Ä–∏—Å–∫/–≤—ã–≥–æ–¥–∞)
                const riskReward = consequences.reputationChange / (choice.risk || 1);
                this.coefficients.strategy = (this.coefficients.strategy * 0.85 + 
                    Math.min(1, Math.max(0, (riskReward + 2) / 4)) * 0.15);
                
                // –î–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª
                this.coefficients.trust = Math.max(0, Math.min(1, 
                    this.coefficients.trust * 0.9 + (consequences.trustChange > 0 ? 0.1 : -0.05)));
                    
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
                this.history.push({
                    choice: choice,
                    consequences: consequences
                });
            }
            
            getTruthPercentage() {
                return this.totalGames > 0 ? Math.round((this.totalTruth / this.totalGames) * 100) : 50;
            }
            
            getInfluenceCoefficient() {
                const avgCoef = Object.values(this.coefficients).reduce((a, b) => a + b, 0) / 
                               Object.values(this.coefficients).length;
                return (avgCoef * 1.5 + 0.5).toFixed(2);
            }
            
            getPlayStyle() {
                const truthPercent = this.getTruthPercentage();
                const flex = this.coefficients.strategy;
                
                if (truthPercent > 80) return "–ü—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω—ã–π –∏–¥–µ–∞–ª–∏—Å—Ç";
                if (truthPercent > 60 && flex > 0.6) return "–î–∏–ø–ª–æ–º–∞—Ç–∏—á–Ω—ã–π —Å—Ç—Ä–∞—Ç–µ–≥";
                if (truthPercent > 40 && flex > 0.7) return "–ü—Ä–∞–≥–º–∞—Ç–∏—á–Ω—ã–π —Ä–µ–∞–ª–∏—Å—Ç";
                if (truthPercent < 40 && flex > 0.6) return "–ì–∏–±–∫–∏–π —Ç–∞–∫—Ç–∏–∫";
                if (truthPercent < 20) return "–†–∞–¥–∏–∫–∞–ª—å–Ω—ã–π –ø—Ä–∞–≥–º–∞—Ç–∏–∫";
                return "–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏–≥—Ä–æ–∫";
            }
        }

        // ==================== –ì–õ–û–ë–ê–õ–¨–ù–´–ô –†–ï–ô–¢–ò–ù–ì ====================
        class GlobalRating {
            constructor() {
                this.players = this.generateSamplePlayers(1000);
                this.globalIndex = 0.65;
                this.updateInterval = null;
            }
            
            generateSamplePlayers(count) {
                const names = ["–ê–ª–µ–∫—Å–µ–π", "–ú–∞—Ä–∏—è", "–î–º–∏—Ç—Ä–∏–π", "–ê–Ω–Ω–∞", "–°–µ—Ä–≥–µ–π", "–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞", "–ê–Ω–¥—Ä–µ–π", "–û–ª—å–≥–∞"];
                const surnames = ["–ò–≤–∞–Ω–æ–≤", "–ü–µ—Ç—Ä–æ–≤", "–°–∏–¥–æ—Ä–æ–≤", "–°–º–∏—Ä–Ω–æ–≤", "–ö—É–∑–Ω–µ—Ü–æ–≤", "–ü–æ–ø–æ–≤", "–í–∞—Å–∏–ª—å–µ–≤", "–ú–æ—Ä–æ–∑–æ–≤"];
                
                return Array.from({length: count}, (_, i) => ({
                    id: i + 1,
                    name: `${names[i % names.length]} ${surnames[i % surnames.length]}.`,
                    rating: 5 + Math.random() * 5,
                    truth: Math.random() * 100,
                    games: Math.floor(Math.random() * 50) + 5,
                    style: ["–ò–¥–µ–∞–ª–∏—Å—Ç", "–ü—Ä–∞–≥–º–∞—Ç–∏–∫", "–¢–∞–∫—Ç–∏–∫", "–°—Ç—Ä–∞—Ç–µ–≥", "–ë–∞–ª–∞–Ω—Å–∏—Ä"][Math.floor(Math.random() * 5)]
                })).sort((a, b) => b.rating - a.rating);
            }
            
            updateGlobalIndex() {
                // –ò–º–∏—Ç–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–º –∏–Ω–¥–µ–∫—Å–µ
                const change = (Math.random() - 0.5) * 0.02;
                this.globalIndex = Math.max(0.3, Math.min(0.9, this.globalIndex + change));
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
                const indexElem = document.getElementById('globalIndex');
                if (indexElem) {
                    indexElem.textContent = `${(this.globalIndex * 100).toFixed(1)}%`;
                    
                    // –ü—É–ª—å—Å–∞—Ü–∏—è –ø—Ä–∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
                    if (Math.abs(change) > 0.01) {
                        indexElem.classList.add('pulse');
                        setTimeout(() => indexElem.classList.remove('pulse'), 2000);
                    }
                }
            }
            
            startUpdating() {
                if (this.updateInterval) {
                    clearInterval(this.updateInterval);
                }
                this.updateInterval = setInterval(() => this.updateGlobalIndex(), 30000);
            }
            
            stopUpdating() {
                if (this.updateInterval) {
                    clearInterval(this.updateInterval);
                    this.updateInterval = null;
                }
            }
            
            getPlayerRank(player) {
                if (!player) return 1;
                
                // –°–∏–º—É–ª—è—Ü–∏—è –ø–æ–∑–∏—Ü–∏–∏ –∏–≥—Ä–æ–∫–∞ –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ
                const playerRating = player.getTruthPercentage() / 10 + 
                                   parseFloat(player.getInfluenceCoefficient());
                const betterPlayers = this.players.filter(p => p.rating > playerRating).length;
                return Math.max(1, betterPlayers + 1);
            }
            
            getTopPlayers(limit = 100) {
                return this.players.slice(0, limit);
            }
            
            getTopPlayer() {
                return this.players[0];
            }
        }

        // ==================== –ò–ì–†–û–í–û–ô –î–í–ò–ñ–û–ö ====================
        class VeritasGame {
            constructor() {
                this.player = new Player();
                this.rating = new GlobalRating();
                this.currentScenario = null;
                this.currentDilemma = null;
                this.day = 1;
                this.maxDays = 7;
                this.selectedOption = null;
                
                this.initialize();
            }
            
            initialize() {
                this.updatePlayerStats();
                this.updateRatingTable();
                this.showMainMenu();
                this.rating.startUpdating();
            }
            
            showMainMenu() {
                const gameContent = document.getElementById('gameContent');
                
                if (!gameContent) return;
                
                gameContent.innerHTML = `
                    <div class="text-center">
                        <h1 class="display-4 mb-4">üéÆ VERITAS 2.0</h1>
                        <p class="lead mb-5">–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –ø–æ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–º—É –¥–æ–≤–µ—Ä–∏—é –≤ —É—Å–ª–æ–≤–∏—è—Ö –ø–æ—Å—Ç–ø—Ä–∞–≤–¥—ã</p>
                        
                        <div class="row justify-content-center mb-5">
                            <div class="col-md-8">
                                <div class="glass-card p-4">
                                    <h4 class="mb-3">–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ü–µ–Ω–∞—Ä–∏–π:</h4>
                                    <div class="row g-4">
                                        ${Object.entries(SCENARIOS).map(([key, scenario]) => `
                                            <div class="col-md-6">
                                                <div class="option-card text-center" onclick="game.startScenario('${key}')">
                                                    <div class="display-6 mb-3">${scenario.name.split(' ')[0]}</div>
                                                    <h5>${scenario.name}</h5>
                                                    <p class="small text-muted">${scenario.dilemmas.length} —Å–ª–æ–∂–Ω—ã—Ö –¥–∏–ª–µ–º–º</p>
                                                    <div class="mt-3">
                                                        <span class="badge" style="background: ${scenario.color}">
                                                            ${this.player.stats[key] ? this.player.stats[key].truth : 0}–ü / ${this.player.stats[key] ? this.player.stats[key].lies : 0}–õ
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        `).join('')}
                                    </div>
                                    
                                    <div class="mt-4">
                                        <button class="btn btn-lg btn-outline-primary" onclick="showTab('profile')">
                                            <i class="fas fa-user-circle me-2"></i>–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å
                                        </button>
                                        <button class="btn btn-lg btn-outline-success ms-2" onclick="showTab('rating')">
                                            <i class="fas fa-trophy me-2"></i>–ì–ª–æ–±–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row text-center">
                            <div class="col-md-4">
                                <div class="glass-card p-3">
                                    <h5><i class="fas fa-users me-2"></i>–°–æ–æ–±—â–µ—Å—Ç–≤–æ</h5>
                                    <div class="h2">1,584</div>
                                    <small class="text-muted">–∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤</small>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="glass-card p-3">
                                    <h5><i class="fas fa-balance-scale me-2"></i>–ë–∞–ª–∞–Ω—Å –ø—Ä–∞–≤–¥—ã</h5>
                                    <div class="h2 text-success">64%</div>
                                    <small class="text-muted">–≤ —Å—Ä–µ–¥–Ω–µ–º –ø–æ –∏–≥—Ä–∞–º</small>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="glass-card p-3">
                                    <h5><i class="fas fa-gamepad me-2"></i>–°—ã–≥—Ä–∞–Ω–æ –∏–≥—Ä</h5>
                                    <div class="h2 text-primary">15,842</div>
                                    <small class="text-muted">–≤—Å–µ–≥–æ —Ä–µ—à–µ–Ω–∏–π</small>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            startScenario(scenarioKey) {
                this.currentScenario = scenarioKey;
                this.day = 1;
                this.selectedOption = null;
                this.player.startNewGame(scenarioKey);
                this.showNextDilemma();
            }
            
            showNextDilemma() {
                if (this.day > this.maxDays) {
                    this.endGame();
                    return;
                }
                
                const scenario = SCENARIOS[this.currentScenario];
                const character = this.player.currentGame.currentCharacter;
                const dilemma = scenario.dilemmas[Math.floor(Math.random() * scenario.dilemmas.length)];
                
                this.currentDilemma = dilemma;
                
                const gameContent = document.getElementById('gameContent');
                
                if (!gameContent) return;
                
                gameContent.innerHTML = `
                    <div class="d-flex justify-content-between align-items-start mb-4">
                        <div>
                            <h3>${scenario.name} ‚Ä¢ –î–µ–Ω—å ${this.day}/${this.maxDays}</h3>
                            <div class="d-flex gap-2 mt-2">
                                <span class="badge bg-primary">–î–æ–≤–µ—Ä–∏–µ: ${this.player.currentGame.trust}</span>
                                <span class="badge bg-success">–ß–µ—Å—Ç–Ω–æ—Å—Ç—å: ${this.player.currentGame.integrity}</span>
                                <span class="badge bg-warning">–†–µ–ø—É—Ç–∞—Ü–∏—è: ${this.player.currentGame.reputation}</span>
                            </div>
                        </div>
                        <div>
                            <span class="scenario-badge">${scenario.name}</span>
                        </div>
                    </div>
                    
                    <!-- –ü–µ—Ä—Å–æ–Ω–∞–∂ -->
                    <div class="glass-card p-4 mb-4">
                        <div class="d-flex align-items-center">
                            <div class="character-portrait bg-primary bg-opacity-10 d-flex align-items-center justify-content-center me-4" style="font-size: 2rem;">
                                ${character.img}
                            </div>
                            <div>
                                <h4 class="mb-1">${character.name}</h4>
                                <p class="text-muted mb-2">${character.role}</p>
                                <div class="d-flex flex-wrap gap-1">
                                    ${character.traits.map(t => `<span class="badge bg-secondary">${t}</span>`).join('')}
                                </div>
                                <div class="mt-2">
                                    <small class="text-muted"><i>"${character.quote}"</i></small>
                                </div>
                            </div>
                        </div>
                        <div class="mt-3 p-3 bg-light rounded">
                            <small><strong>–ö–æ–Ω—Ç–µ–∫—Å—Ç:</strong> ${character.secret}</small>
                        </div>
                    </div>
                    
                    <!-- –î–∏–ª–µ–º–º–∞ -->
                    <div class="mb-4">
                        <h4 class="mb-3">${dilemma.title}</h4>
                        <div class="glass-card p-4">
                            <p class="lead">${dilemma.text}</p>
                            <div class="mt-3">
                                <h6>–°—Ç–∞–≤–∫–∏:</h6>
                                <div class="d-flex flex-wrap gap-2">
                                    ${dilemma.stakes.map(s => `<span class="consequence-tag neutral-tag">${s}</span>`).join('')}
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–∞ -->
                    <div class="mb-4">
                        <h5 class="mb-3">–í–∞—à–∏ –≤–æ–∑–º–æ–∂–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:</h5>
                        <div id="optionsContainer">
                            ${TRUTH_LEVELS.map((level, index) => `
                                <div class="option-card truth-${index}" onclick="game.selectOption(${index})" data-option="${index}">
                                    <div class="d-flex justify-content-between align-items-start">
                                        <div>
                                            <h5 class="mb-2">${level.icon} ${level.name}</h5>
                                            <p class="mb-2">${level.desc}</p>
                                            <div class="d-flex gap-2">
                                                <span class="badge ${level.integrity > 0 ? 'bg-success' : level.integrity < 0 ? 'bg-danger' : 'bg-warning'}">
                                                    –ß–µ—Å—Ç–Ω–æ—Å—Ç—å: ${level.integrity > 0 ? '+' : ''}${level.integrity}
                                                </span>
                                                <span class="badge bg-secondary">
                                                    –†–∏—Å–∫: ${level.risk}/6
                                                </span>
                                            </div>
                                        </div>
                                        <div class="text-end">
                                            <div class="small text-muted">–°–∫–ª–æ–Ω–Ω–æ—Å—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞:</div>
                                            <div class="h5 ${this.getAlignmentColor(character.bias, index)}">
                                                ${this.getAlignmentText(character.bias, index)}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        
                        <div class="text-center mt-4">
                            <button class="btn btn-lg btn-primary px-5" id="submitButton" onclick="game.makeDecision()" disabled>
                                <i class="fas fa-paper-plane me-2"></i>–ü—Ä–∏–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ
                            </button>
                        </div>
                    </div>
                `;
            }
            
            getAlignmentColor(characterBias, optionIndex) {
                const optionBias = optionIndex / (TRUTH_LEVELS.length - 1);
                const difference = Math.abs(characterBias - optionBias);
                
                if (difference < 0.2) return "text-success";
                if (difference < 0.4) return "text-warning";
                return "text-danger";
            }
            
            getAlignmentText(characterBias, optionIndex) {
                const optionBias = optionIndex / (TRUTH_LEVELS.length - 1);
                const difference = Math.abs(characterBias - optionBias);
                
                if (difference < 0.2) return "–í—ã—Å–æ–∫–æ–µ";
                if (difference < 0.4) return "–°—Ä–µ–¥–Ω–µ–µ";
                return "–ù–∏–∑–∫–æ–µ";
            }
            
            selectOption(index) {
                document.querySelectorAll('.option-card').forEach(card => {
                    card.classList.remove('selected');
                });
                
                const selectedCard = document.querySelector(`[data-option="${index}"]`);
                if (selectedCard) {
                    selectedCard.classList.add('selected');
                    this.selectedOption = index;
                    const submitBtn = document.getElementById('submitButton');
                    if (submitBtn) {
                        submitBtn.disabled = false;
                    }
                }
            }
            
            makeDecision() {
                if (this.selectedOption === null || this.selectedOption === undefined) return;
                
                const choice = TRUTH_LEVELS[this.selectedOption];
                const character = this.player.currentGame.currentCharacter;
                const alignment = this.getAlignmentScore(character.bias, this.selectedOption);
                
                // –†–∞—Å—Å—á—ë—Ç –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–π
                const consequences = this.calculateConsequences(choice, alignment);
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞
                this.player.makeDecision(choice, consequences);
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–≥—Ä—ã
                this.player.currentGame.trust += consequences.trustChange;
                this.player.currentGame.integrity += choice.integrity;
                this.player.currentGame.reputation += consequences.reputationChange;
                
                // –ü–æ–∫–∞–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
                this.showResults(choice, consequences, character);
                
                this.day++;
            }
            
            getAlignmentScore(characterBias, optionIndex) {
                const optionBias = optionIndex / (TRUTH_LEVELS.length - 1);
                return 1 - Math.abs(characterBias - optionBias);
            }
            
            calculateConsequences(choice, alignment) {
                // –ë–∞–∑–æ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
                let trustChange = choice.integrity * 5 + alignment * 10;
                let reputationChange = -choice.risk * 2 + alignment * 5;
                
                // –í–ª–∏—è–Ω–∏–µ –¥–Ω—è
                const dayPressure = this.day / this.maxDays;
                trustChange *= (1 + dayPressure);
                reputationChange *= (1 + dayPressure);
                
                // –°–ª—É—á–∞–π–Ω—ã–π —Ñ–∞–∫—Ç–æ—Ä
                trustChange += (Math.random() - 0.5) * 10;
                reputationChange += (Math.random() - 0.5) * 8;
                
                // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
                trustChange = Math.max(-30, Math.min(30, Math.round(trustChange)));
                reputationChange = Math.max(-20, Math.min(20, Math.round(reputationChange)));
                
                // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏—è
                const descriptions = [];
                if (choice.integrity > 2) {
                    descriptions.push("–ß–µ—Å—Ç–Ω–æ—Å—Ç—å –æ—Ü–µ–Ω–µ–Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–º");
                }
                if (choice.risk > 4) {
                    descriptions.push("–†–∏—Å–∫–æ–≤–∞–Ω–Ω—ã–π —Ö–æ–¥");
                }
                if (alignment > 0.8) {
                    descriptions.push("–°–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å –º–∏—Ä–æ–≤–æ–∑–∑—Ä–µ–Ω–∏–µ–º –ø–µ—Ä—Å–æ–Ω–∞–∂–∞");
                }
                
                return {
                    trustChange: trustChange,
                    reputationChange: reputationChange,
                    alignment: alignment,
                    descriptions: descriptions
                };
            }
            
            showResults(choice, consequences, character) {
                const resultsContent = document.getElementById('resultsContent');
                
                if (!resultsContent) return;
                
                resultsContent.innerHTML = `
                    <div class="text-center mb-4">
                        <h4>–î–µ–Ω—å ${this.day - 1} –∑–∞–≤–µ—Ä—à—ë–Ω</h4>
                        <p class="lead">${character.name} –æ—Ü–µ–Ω–∏–ª –≤–∞—à–µ —Ä–µ—à–µ–Ω–∏–µ</p>
                    </div>
                    
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <div class="consequence-alert alert ${consequences.trustChange >= 0 ? 'alert-success' : 'alert-danger'}">
                                <h5><i class="fas fa-handshake"></i> –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–æ–≤–µ—Ä–∏—è</h5>
                                <div class="display-4 ${consequences.trustChange >= 0 ? 'text-success' : 'text-danger'}">
                                    ${consequences.trustChange >= 0 ? '+' : ''}${consequences.trustChange}
                                </div>
                                <small>–ù–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: ${this.player.currentGame.trust}</small>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="consequence-alert alert ${consequences.reputationChange >= 0 ? 'alert-info' : 'alert-warning'}">
                                <h5><i class="fas fa-chart-line"></i> –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏</h5>
                                <div class="display-4 ${consequences.reputationChange >= 0 ? 'text-info' : 'text-warning'}">
                                    ${consequences.reputationChange >= 0 ? '+' : ''}${consequences.reputationChange}
                                </div>
                                <small>–ù–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: ${this.player.currentGame.reputation}</small>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <h5>–†–µ–∞–∫—Ü–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞:</h5>
                        <div class="glass-card p-3">
                            <div class="d-flex align-items-center">
                                <div style="font-size: 2rem;" class="me-3">${character.img}</div>
                                <div>
                                    <strong>${character.name}:</strong>
                                    <p class="mb-0 mt-1">"${this.getCharacterReaction(choice, consequences.alignment)}"</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    ${consequences.descriptions.length > 0 ? `
                        <div class="mb-3">
                            <h6>–û—Å–æ–±—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã:</h6>
                            <div class="d-flex flex-wrap gap-2">
                                ${consequences.descriptions.map(d => `
                                    <span class="consequence-tag ${choice.integrity > 0 ? 'positive-tag' : 'negative-tag'}">
                                        ${d}
                                    </span>
                                `).join('')}
                            </div>
                        </div>
                    ` : ''}
                    
                    <div class="text-center mt-4">
                        ${this.day <= this.maxDays ? `
                            <button class="btn btn-lg btn-primary" onclick="game.continueGame()" data-bs-dismiss="modal">
                                –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏–≥—Ä—É
                            </button>
                        ` : `
                            <button class="btn btn-lg btn-success" onclick="game.endGame()" data-bs-dismiss="modal">
                                –ó–∞–≤–µ—Ä—à–∏—Ç—å –∏–≥—Ä—É
                            </button>
                        `}
                    </div>
                `;
                
                const modalElement = document.getElementById('resultsModal');
                if (modalElement) {
                    const modal = new bootstrap.Modal(modalElement);
                    modal.show();
                }
            }
            
            getCharacterReaction(choice, alignment) {
                const reactions = {
                    highTruth: [
                        "–Ø —Ü–µ–Ω—é –≤–∞—à—É –ø—Ä—è–º–æ—Ç—É. –í –Ω–∞—à–µ –≤—Ä–µ–º—è —ç—Ç–æ —Ä–µ–¥–∫–æ—Å—Ç—å.",
                        "–ß–µ—Å—Ç–Ω–æ—Å—Ç—å - —ç—Ç–æ —Å–º–µ–ª–æ—Å—Ç—å. –í—ã –º–µ–Ω—è —É–≤–∞–∂–∞–µ—Ç–µ.",
                        "–ü—Ä—è–º–æ –∏ –±–µ–∑ –ø—Ä–∏–∫—Ä–∞—Å. –¢–∞–∫ –∏ –Ω—É–∂–Ω–æ –≥–æ–≤–æ—Ä–∏—Ç—å –ø—Ä–∞–≤–¥—É."
                    ],
                    mediumTruth: [
                        "–î–∏–ø–ª–æ–º–∞—Ç–∏—á–Ω–æ, –Ω–æ —Å—É—Ç—å —è—Å–Ω–∞. –ü—Ä–∏–µ–º–ª–µ–º—ã–π –ø–æ–¥—Ö–æ–¥.",
                        "–í—ã –Ω–∞—à–ª–∏ –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –ø—Ä–∞–≤–¥–æ–π –∏ —Ç–∞–∫—Ç–æ–º.",
                        "–ú—É–¥—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ, —É—á–∏—Ç—ã–≤–∞—é—â–µ–µ –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞."
                    ],
                    lowTruth: [
                        "–•–º, –Ω–µ –≤—Å—ë —Ç–∞–∫ –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ, –∫–∞–∫ –≤—ã –≥–æ–≤–æ—Ä–∏—Ç–µ.",
                        "–í—ã —á—Ç–æ-—Ç–æ —É–º–∞–ª—á–∏–≤–∞–µ—Ç–µ, —ç—Ç–æ –∑–∞–º–µ—Ç–Ω–æ.",
                        "–°–ª–∏—à–∫–æ–º –≥–ª–∞–¥–∫–æ –¥–ª—è –ø—Ä–∞–≤–¥–∏–≤–æ–π –∏—Å—Ç–æ—Ä–∏–∏."
                    ],
                    deception: [
                        "–ò–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è –≤–µ—Ä—Å–∏—è... —Å–ª–∏—à–∫–æ–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è.",
                        "–í—ã –¥—É–º–∞–µ—Ç–µ, —è –ø–æ–≤–µ—Ä—é –≤ —ç—Ç–æ?",
                        "–õ–æ–∂—å –∏–º–µ–µ—Ç –∫–æ—Ä–æ—Ç–∫–∏–µ –Ω–æ–≥–∏, –ø–æ–º–Ω–∏—Ç–µ –æ–± —ç—Ç–æ–º."
                    ]
                };
                
                if (choice.integrity > 1 && alignment > 0.7) {
                    return reactions.highTruth[Math.floor(Math.random() * reactions.highTruth.length)];
                } else if (choice.integrity >= 0 && alignment > 0.5) {
                    return reactions.mediumTruth[Math.floor(Math.random() * reactions.mediumTruth.length)];
                } else if (choice.integrity < 0) {
                    return reactions.deception[Math.floor(Math.random() * reactions.deception.length)];
                } else {
                    return reactions.lowTruth[Math.floor(Math.random() * reactions.lowTruth.length)];
                }
            }
            
            continueGame() {
                this.showNextDilemma();
                this.updatePlayerStats();
            }
            
            endGame() {
                const gameContent = document.getElementById('gameContent');
                
                if (!gameContent) return;
                
                // –†–∞—Å—Å—á—ë—Ç –∏—Ç–æ–≥–æ–≤–æ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞
                const truthPercent = this.player.getTruthPercentage();
                const influence = this.player.getInfluenceCoefficient();
                const finalScore = Math.round((truthPercent * 0.7 + parseFloat(influence) * 30) / 10);
                
                gameContent.innerHTML = `
                    <div class="text-center">
                        <h1 class="display-4 mb-4">üéâ –ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!</h1>
                        
                        <div class="glass-card p-5 mb-4">
                            <h3 class="mb-3">${SCENARIOS[this.currentScenario].name}</h3>
                            <div class="display-1 mb-3 text-${finalScore >= 8 ? 'success' : finalScore >= 6 ? 'warning' : 'danger'}">
                                ${finalScore}/10
                            </div>
                            <p class="lead">–í–∞—à –∏—Ç–æ–≥–æ–≤—ã–π —Ä–µ–π—Ç–∏–Ω–≥</p>
                        </div>
                        
                        <div class="row mb-4">
                            <div class="col-md-6">
                                <div class="glass-card p-4 h-100">
                                    <h5><i class="fas fa-chart-pie me-2"></i>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä—ã</h5>
                                    <div class="mt-3">
                                        <div class="d-flex justify-content-between mb-2">
                                            <span>–ü—Ä–∞–≤–¥–∏–≤–æ—Å—Ç—å –≤ –∏–≥—Ä–µ:</span>
                                            <span class="fw-bold">${truthPercent}%</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                            <span>–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–ª–∏—è–Ω–∏—è:</span>
                                            <span class="fw-bold">${influence}</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                            <span>–§–∏–Ω–∞–ª—å–Ω–æ–µ –¥–æ–≤–µ—Ä–∏–µ:</span>
                                            <span class="fw-bold">${this.player.currentGame.trust}</span>
                                        </div>
                                        <div class="d-flex justify-content-between">
                                            <span>–ü–æ–∑–∏—Ü–∏—è –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ:</span>
                                            <span class="fw-bold text-primary">#${this.rating.getPlayerRank(this.player)}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="glass-card p-4 h-100">
                                    <h5><i class="fas fa-trophy me-2"></i>–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h5>
                                    <div class="mt-3">
                                        ${truthPercent >= 80 ? `
                                            <div class="alert alert-success">
                                                <i class="fas fa-medal me-2"></i>
                                                <strong>–ú–∞—Å—Ç–µ—Ä –ø—Ä–∞–≤–¥—ã:</strong> –í—ã —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏ –≤—ã—Å–æ–∫—É—é —á–µ—Å—Ç–Ω–æ—Å—Ç—å
                                            </div>
                                        ` : ''}
                                        ${this.player.currentGame.trust >= 120 ? `
                                            <div class="alert alert-info">
                                                <i class="fas fa-handshake me-2"></i>
                                                <strong>–î–æ–≤–µ—Ä–µ–Ω–Ω–æ–µ –ª–∏—Ü–æ:</strong> –í—ã –∑–∞–≤–æ–µ–≤–∞–ª–∏ –≤—ã—Å–æ–∫–æ–µ –¥–æ–≤–µ—Ä–∏–µ
                                            </div>
                                        ` : ''}
                                        ${this.player.currentGame.reputation >= 70 ? `
                                            <div class="alert alert-warning">
                                                <i class="fas fa-star me-2"></i>
                                                <strong>–ë–ª–µ—Å—Ç—è—â–∞—è —Ä–µ–ø—É—Ç–∞—Ü–∏—è:</strong> –í–∞—à –∏–º–∏–¥–∂ —É–∫—Ä–µ–ø–ª—ë–Ω
                                            </div>
                                        ` : ''}
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-4">
                            <h4>–í–∞—à —Å—Ç–∏–ª—å –∏–≥—Ä—ã: <span class="text-primary">${this.player.getPlayStyle()}</span></h4>
                        </div>
                        
                        <div class="d-flex justify-content-center gap-3">
                            <button class="btn btn-primary btn-lg" onclick="game.startScenario('${this.currentScenario}')">
                                <i class="fas fa-redo me-2"></i>–ò–≥—Ä–∞—Ç—å –µ—â—ë —Ä–∞–∑
                            </button>
                            <button class="btn btn-success btn-lg" onclick="game.showMainMenu()">
                                <i class="fas fa-home me-2"></i>–í –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
                            </button>
                            <button class="btn btn-info btn-lg" onclick="showTab('profile')">
                                <i class="fas fa-user me-2"></i>–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å
                            </button>
                        </div>
                    </div>
                `;
                
                this.updatePlayerStats();
                this.updateRatingTable();
            }
            
            updatePlayerStats() {
                const playerTruth = document.getElementById('playerTruth');
                const playerGames = document.getElementById('playerGames');
                const influenceCoef = document.getElementById('influenceCoef');
                const playerRank = document.getElementById('playerRank');
                
                if (playerTruth) playerTruth.textContent = `${this.player.getTruthPercentage()}%`;
                if (playerGames) playerGames.textContent = this.player.totalGames;
                if (influenceCoef) influenceCoef.textContent = this.player.getInfluenceCoefficient();
                if (playerRank) playerRank.textContent = `#${this.rating.getPlayerRank(this.player)}`;
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –≤ –ø—Ä–æ—Ñ–∏–ª–µ
                const updateElement = (id, value) => {
                    const element = document.getElementById(id);
                    if (element) element.textContent = value.toFixed(2);
                };
                
                updateElement('coefStability', this.player.coefficients.stability);
                updateElement('coefSocial', this.player.coefficients.social);
                updateElement('coefEthics', this.player.coefficients.ethics);
                updateElement('coefStrategy', this.player.coefficients.strategy);
                updateElement('coefTrust', this.player.coefficients.trust);
                
                const playStyleElement = document.getElementById('playStyle');
                if (playStyleElement) playStyleElement.textContent = this.player.getPlayStyle();
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Ä–µ—à–µ–Ω–∏–π
                this.updateDecisionHistory();
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞
                this.updateStyleChart();
            }
            
            updateDecisionHistory() {
                const historyContainer = document.getElementById('decisionHistory');
                if (!historyContainer) return;
                
                const recentDecisions = this.player.history.slice(-5).reverse();
                
                historyContainer.innerHTML = recentDecisions.map(decision => `
                    <div class="glass-card p-3 mb-2">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <strong>${decision.character ? decision.character.name : '–ü–µ—Ä—Å–æ–Ω–∞–∂'}</strong>
                                <div class="small text-muted">${decision.choice.name}</div>
                            </div>
                            <div class="text-end">
                                <span class="badge ${decision.choice.integrity > 0 ? 'bg-success' : decision.choice.integrity < 0 ? 'bg-danger' : 'bg-warning'}">
                                    ${decision.choice.integrity > 0 ? '+' : ''}${decision.choice.integrity}
                                </span>
                                <div class="small">
                                    <span class="${decision.consequences.trustChange >= 0 ? 'text-success' : 'text-danger'}">
                                        ${decision.consequences.trustChange >= 0 ? '+' : ''}${decision.consequences.trustChange}
                                    </span> –¥–æ–≤–µ—Ä–∏—è
                                </div>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
            
            updateStyleChart() {
                const canvas = document.getElementById('styleChart');
                if (!canvas) return;
                
                const ctx = canvas.getContext('2d');
                
                // –£–Ω–∏—á—Ç–æ–∂–∞–µ–º —Å—Ç–∞—Ä—ã–π –≥—Ä–∞—Ñ–∏–∫ –µ—Å–ª–∏ –µ—Å—Ç—å
                if (window.styleChartInstance) {
                    window.styleChartInstance.destroy();
                }
                
                const data = {
                    labels: ['–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å', '–°–æ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å', '–≠—Ç–∏–∫–∞', '–°—Ç—Ä–∞—Ç–µ–≥–∏—è', '–î–æ–≤–µ—Ä–∏–µ'],
                    datasets: [{
                        label: '–í–∞—à–∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã',
                        data: Object.values(this.player.coefficients),
                        backgroundColor: [
                            'rgba(40, 167, 69, 0.2)',
                            'rgba(0, 123, 255, 0.2)',
                            'rgba(111, 66, 193, 0.2)',
                            'rgba(255, 193, 7, 0.2)',
                            'rgba(32, 201, 151, 0.2)'
                        ],
                        borderColor: [
                            'rgb(40, 167, 69)',
                            'rgb(0, 123, 255)',
                            'rgb(111, 66, 193)',
                            'rgb(255, 193, 7)',
                            'rgb(32, 201, 151)'
                        ],
                        borderWidth: 2,
                        pointBackgroundColor: 'white',
                        pointBorderColor: 'black',
                        pointRadius: 5
                    }]
                };
                
                const config = {
                    type: 'radar',
                    data: data,
                    options: {
                        scales: {
                            r: {
                                beginAtZero: true,
                                max: 1,
                                ticks: {
                                    stepSize: 0.2
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                display: false
                            }
                        }
                    }
                };
                
                window.styleChartInstance = new Chart(ctx, config);
            }
            
            updateRatingTable() {
                const topPlayers = this.rating.getTopPlayers(10);
                const tableBody = document.getElementById('ratingTable');
                const topPlayerElement = document.getElementById('topPlayer');
                
                if (topPlayerElement) {
                    const topPlayer = this.rating.getTopPlayer();
                    topPlayerElement.textContent = topPlayer.name;
                }
                
                if (!tableBody) return;
                
                tableBody.innerHTML = topPlayers.map((player, index) => `
                    <tr ${index === 0 ? 'class="table-warning"' : ''}>
                        <td><strong>${index + 1}</strong></td>
                        <td>
                            <div class="d-flex align-items-center">
                                <div class="character-portrait me-2 bg-primary bg-opacity-10 d-flex align-items-center justify-content-center">
                                    <i class="fas fa-user"></i>
                                </div>
                                <div>
                                    <strong>${player.name}</strong>
                                    <div class="small text-muted">${player.style}</div>
                                </div>
                            </div>
                        </td>
                        <td><span class="badge bg-primary">${player.rating.toFixed(1)}/10</span></td>
                        <td>
                            <div class="progress" style="height: 8px; width: 100px;">
                                <div class="progress-bar bg-success" style="width: ${player.truth}%"></div>
                            </div>
                            <small>${player.truth.toFixed(1)}%</small>
                        </td>
                        <td>${player.games}</td>
                        <td><span class="badge bg-secondary">${player.style}</span></td>
                    </tr>
                `).join('');
            }
        }

        // ==================== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ====================
        let game;

        function showTab(tabName) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏
            const tabs = ['game', 'profile', 'rating'];
            tabs.forEach(tab => {
                const element = document.getElementById(`${tab}Tab`);
                if (element) element.style.display = 'none';
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é –≤–∫–ª–∞–¥–∫—É
            const selectedTab = document.getElementById(`${tabName}Tab`);
            if (selectedTab) selectedTab.style.display = 'block';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
            if (tabName === 'profile' && game) {
                game.updatePlayerStats();
            }
            if (tabName === 'rating' && game) {
                game.updateRatingTable();
            }
        }

        // ==================== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ====================
        document.addEventListener('DOMContentLoaded', () => {
            game = new VeritasGame();
            
            // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
            window.game = game;
            window.showTab = showTab;
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
            setInterval(() => {
                const indexElem = document.getElementById('globalIndex');
                if (indexElem) {
                    const current = parseFloat(indexElem.textContent);
                    const change = (Math.random() - 0.5) * 0.5;
                    const newValue = Math.max(50, Math.min(95, current + change));
                    indexElem.textContent = `${newValue.toFixed(1)}%`;
                    
                    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –∏–≥—Ä–æ–∫–∞
                    if (game) {
                        const rank = game.rating.getPlayerRank(game.player);
                        const playerRankElem = document.getElementById('playerRank');
                        if (playerRankElem) playerRankElem.textContent = `#${rank}`;
                    }
                }
            }, 30000);
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∞–≤–∏—à
            document.addEventListener('keydown', (e) => {
                if (e.key >= '1' && e.key <= '6') {
                    const index = parseInt(e.key) - 1;
                    if (game && game.selectedOption !== null) {
                        game.selectOption(index);
                    }
                }
                
                if (e.key === 'Enter') {
                    const submitBtn = document.getElementById('submitButton');
                    if (submitBtn && !submitBtn.disabled && game) {
                        game.makeDecision();
                    }
                }
                
                if (e.key === 'Escape') {
                    const modalElement = document.getElementById('resultsModal');
                    if (modalElement) {
                        const modal = bootstrap.Modal.getInstance(modalElement);
                        if (modal) modal.hide();
                    }
                }
            });
        });

        // –û—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('beforeunload', () => {
            if (game && game.rating) {
                game.rating.stopUpdating();
            }
        });
    </script>
</body>
</html>
